<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-05-02 Wed 18:46 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Family Box of Packages by abo-abo</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Zuogong Yue" />
<link rel="stylesheet" type="text/css" media="all" href="/Users/oracleyue/.emacs.d/templates/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" media="all" href="/Users/oracleyue/.emacs.d/templates/css/style.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">The Family Box of Packages by abo-abo</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org27e8c4a">1. Ivy - a generic completion frontend (swiper, counsel, etc.)</a>
<ul>
<li><a href="#orga23a664">1.1. Requirements</a>
<ul>
<li><a href="#org06cd55e">1.1.1. Install system commandline tools</a></li>
<li><a href="#orgb697f11">1.1.2. Install packages for Emacs</a></li>
</ul>
</li>
<li><a href="#org35eff3d">1.2. Ivy, Counsel and Swiper</a>
<ul>
<li><a href="#org28a6803">1.2.1. Basics</a></li>
<li><a href="#org6565151">1.2.2. Keybindings</a></li>
<li><a href="#org8427318">1.2.3. Minibuffer actions</a></li>
<li><a href="#orgc9fdf07">1.2.4. Ivy-occur and available actions</a></li>
<li><a href="#orgb9c9c81">1.2.5. Advanced features of ripgrep and counsel-rg</a></li>
<li><a href="#org6c1f960">1.2.6. Refactoring workflow via ivy-occur</a></li>
</ul>
</li>
<li><a href="#org39b0079">1.3. Ivy for projectile</a></li>
<li><a href="#org2e5f898">1.4. Ivy for GNU global tags</a></li>
</ul>
</li>
<li><a href="#orge609588">2. Hydra - make Emacs bindings that stick around</a>
<ul>
<li><a href="#orge7557ba">2.1. Supports for Counsel</a></li>
</ul>
</li>
<li><a href="#orgaba00cf">3. Avy - jump to things in Emacs tree-style</a></li>
<li><a href="#org9cd96e8">4. END</a></li>
</ul>
</div>
</div>


<div id="outline-container-org27e8c4a" class="outline-2">
<h2 id="org27e8c4a"><span class="section-number-2">1</span> Ivy - a generic completion frontend (swiper, counsel, etc.)</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orga23a664" class="outline-3">
<h3 id="orga23a664"><span class="section-number-3">1.1</span> Requirements</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-org06cd55e" class="outline-4">
<h4 id="org06cd55e"><span class="section-number-4">1.1.1</span> Install system commandline tools</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
Tools to be installed in order to use the corresponding commands in Ivy:
(package names in Homebrew)
</p>

<ul class="org-ul">
<li><code>counsel-ag</code>  : <code>ag</code> from <code>the_silver_searcher</code></li>
<li><code>counsel-ack</code> : <code>ack</code> from <code>ack</code></li>
<li><code>counsel-rg</code>  : <code>rg</code> from <code>ripgrep</code></li>
<li><code>counsel-git</code> : <code>git</code></li>
<li><code>counsel-fzf</code> : <code>fzf</code> (a command-line fuzzy finder)</li>
</ul>
</div>
</div>

<div id="outline-container-orgb697f11" class="outline-4">
<h4 id="orgb697f11"><span class="section-number-4">1.1.2</span> Install packages for Emacs</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5C6370;">;; </span><span style="color: #5C6370;">===============================================================</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">Ivy - a generic completion mechanism for Emacs</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">===============================================================</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">Last modified on 31 Mar 2018</span>


<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">Install required Emacs packages</span>
(<span style="color: #C678DD;">setq</span> custom/ivy-ext-packages
      '(ivy
        counsel
        swiper
        wgrep
        ivy-hydra
        counsel-projectile
        counsel-gtags))
(custom/install-packages custom/ivy-ext-packages)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org35eff3d" class="outline-3">
<h3 id="org35eff3d"><span class="section-number-3">1.2</span> Ivy, Counsel and Swiper</h3>
<div class="outline-text-3" id="text-1-2">
<p>
List of frequent commands:
</p>

<ul class="org-ul">
<li>grep buffers:
<ul class="org-ul">
<li><code>swiper</code> or <code>counsel-grep-or-swiper</code> (large files) (<code>C-s</code>)</li>
<li><code>swiper-all</code> (<code>M-g s</code>) grep all buffers</li>
<li><code>swiper-multi</code> grep the selected buffers</li>
</ul></li>
<li>grep directory (recursively):
<ul class="org-ul">
<li><code>counsel-ag</code> (<code>M-g a</code>)</li>
<li><code>counsel-ack</code></li>
<li><code>counsel-rg</code> (<code>M-g r</code>) (for large files)</li>
</ul></li>
<li>grep git projects:
<ul class="org-ul">
<li><code>counsel-git</code> (<code>C-c g</code>) (select a file tracked by git)</li>
<li><code>counsel-git-grep</code> or use <code>counsel-rg</code> instead</li>
</ul></li>
<li>find files in directory recursively <code>counsel-fzf</code> (<code>M-g f</code>)</li>
</ul>
</div>

<div id="outline-container-org28a6803" class="outline-4">
<h4 id="org28a6803"><span class="section-number-4">1.2.1</span> Basics</h4>
<div class="outline-text-4" id="text-1-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5C6370;">;; </span><span style="color: #5C6370;">---------------------------------------------</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">/Ivy + Counsel + Swiper/: by abo-abo</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">---------------------------------------------</span>

<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">Configurations</span>
(ivy-mode 1)
(<span style="color: #C678DD;">setq</span> ivy-height 15)
(<span style="color: #C678DD;">setq</span> ivy-use-virtual-buffers t)
(<span style="color: #C678DD;">setq</span> enable-recursive-minibuffers t)
(<span style="color: #C678DD;">setq</span> ivy-use-selectable-prompt t)  <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">make inputs selectable</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6565151" class="outline-4">
<h4 id="org6565151"><span class="section-number-4">1.2.2</span> Keybindings</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Ivy-based interface to standard commands:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5C6370;">;; </span><span style="color: #5C6370;">(global-set-key (kbd "C-s") 'swiper)  ;; use counsel-grep-or-swiper</span>
(global-set-key (kbd <span style="color: #98C379;">"M-x"</span>) 'counsel-M-x)
(global-set-key (kbd <span style="color: #98C379;">"C-x C-f"</span>) 'counsel-find-file)
(global-set-key (kbd <span style="color: #98C379;">"&lt;f1&gt; l"</span>) 'counsel-find-library)
(global-set-key (kbd <span style="color: #98C379;">"&lt;f2&gt; k"</span>) 'counsel-descbinds)
(global-set-key (kbd <span style="color: #98C379;">"&lt;f2&gt; i"</span>) 'counsel-info-lookup-symbol)
(global-set-key (kbd <span style="color: #98C379;">"&lt;f2&gt; u"</span>) 'counsel-unicode-char)
(global-set-key (kbd <span style="color: #98C379;">"C-c C-r"</span>) 'ivy-resume)
</pre>
</div>


<p>
Ivy-based interface to basic editing and programming
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #98C379;">"M-y"</span>) 'counsel-yank-pop)
(global-set-key (kbd <span style="color: #98C379;">"M-g SPC"</span>) 'counsel-mark-ring)  <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">M-SPC</span>
(global-set-key (kbd <span style="color: #98C379;">"M-g i"</span>) 'counsel-semantic-or-imenu) <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">C-c i</span>
</pre>
</div>

<p>
Ivy-based interface to shell and system tools:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #98C379;">"C-c g"</span>) 'counsel-git)
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">(global-set-key (kbd "C-c j") 'counsel-git-grep)  ;; replaced by counsel-rg</span>
(global-set-key (kbd <span style="color: #98C379;">"M-g s"</span>) 'swiper-all)
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">alternative ~swiper~ for large files</span>
(global-set-key (kbd <span style="color: #98C379;">"C-s"</span>) 'counsel-grep-or-swiper)
(<span style="color: #C678DD;">setq</span> counsel-grep-base-command
 <span style="color: #98C379;">"rg -i -M 120 --no-heading --line-number --color never '%s' %s"</span>)
(global-set-key (kbd <span style="color: #98C379;">"M-g a"</span>) 'counsel-ag)    <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">C-c k</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">(global-set-key (kbd "M-g k") 'counsel-ack)</span>
(global-set-key (kbd <span style="color: #98C379;">"M-g r"</span>) 'counsel-rg)    <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">large files</span>
(global-set-key (kbd <span style="color: #98C379;">"M-g f"</span>) 'counsel-fzf)   <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">helm-find</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">(global-set-key (kbd "M-g l") 'counsel-locate)  ;; C-x l</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8427318" class="outline-4">
<h4 id="org8427318"><span class="section-number-4">1.2.3</span> Minibuffer actions</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
One may go to the INFO page (<code>C-h i</code>) of Ivy to see the complete manual.
The recommended setting of additional minibuffer actions:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key minibuffer-local-map (kbd <span style="color: #98C379;">"C-r"</span>)
  'counsel-minibuffer-history)
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">ensure recentf-list loaded on startup</span>
(<span style="color: #C678DD;">with-eval-after-load</span> 'counsel (recentf-mode))
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">disable recentf-list loading via ivy-switch-buffer</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">(setq recentf-initialize-file-name-history nil)</span>
</pre>
</div>
<p>
(For these two additional settings, see <a href="https://github.com/abo-abo/swiper/issues/1515">https://github.com/abo-abo/swiper/issues/1515</a>.)
</p>


<p>
A brief summary of minibuffer actions in <code>counsel-find-files</code>:
</p>
<ul class="org-ul">
<li><code>C-j</code>: start a new completion; otherwise, same as <code>RET</code>;</li>
<li><code>TAB</code>: attempts partial completion; <code>TAB TAB</code> same as <code>C-j</code>;</li>
<li><code>C-M-j</code>: exits with the current input instead of candidates;</li>
<li><code>M-i</code>: insert the current candidate into the minibuffer;</li>
<li><code>M-o</code>: presents valid actions;</li>
<li><code>M-n</code>, <code>M-p</code>: cycles through the Ivy command history;</li>
<li><code>S-SPC</code>: deletes the current input and rests the list.</li>
</ul>

<p>
A summary of file name completions:
</p>
<ul class="org-ul">
<li><code>C-j</code> (<code>ivy-alt-done</code>):
On a directory, restarts completion from that directory.
On a file or ./, exit completion with the selected candidate.</li>
<li><code>DEL</code> (<code>ivy-backward-delete-char</code>): Restart the completion in the parent
directory if current input is empty.</li>
<li><code>//</code> (<code>self-insert-command</code>):
Switch to the root directory.</li>
<li><code>~</code> (<code>self-insert-command</code>):
Switch to the home directory.</li>
<li><code>/</code> (<code>self-insert-command</code>): If the current input matches an existing
directory name exactly, switch the completion to that directory.</li>
<li><code>M-r</code> (<code>ivy-toggle-regexp-quote</code>):
Toggle between input as regexp or not.
Switch to matching literally since file names include ., which is for matching any char in regexp mode.</li>
</ul>
</div>
</div>

<div id="outline-container-orgc9fdf07" class="outline-4">
<h4 id="orgc9fdf07"><span class="section-number-4">1.2.4</span> Ivy-occur and available actions</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
The bug is due to the incompatibility of commandline tools on OSX and Linux, for
example <code>xargs -d '\n'</code>, <code>-d</code> is not available on OSX.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #C678DD;">when</span> *is-mac*
  (<span style="color: #C678DD;">setq</span> counsel-find-file-occur-cmd
        <span style="color: #98C379;">"gls -a | grep -i -E '%s' | tr '\\n' '\\0' | xargs -0 gls -d --group-directories-first"</span>))
</pre>
</div>


<p>
A summary of commands in the read-only <code>ivy-occur</code> buffer:
(WARNING: has been changed and no longer working!)
</p>
<ul class="org-ul">
<li><code>RET</code> or <code>f</code> (<code>ivy-occur-press</code>):
call the current action on the selected candidate.</li>
<li><code>mouse-1</code> (<code>ivy-occur-click</code>);
call the current action on the selected candidate.</li>
<li><code>j</code> (<code>next-line</code>): move to next line.</li>
<li><code>k</code> (<code>previous-line</code>): move to previous line.</li>
<li><code>a</code> (<code>ivy-occur-read-action</code>):
read an action and make it current for this buffer.</li>
<li><code>o</code> (<code>ivy-occur-dispatch</code>):
read an action and call it on the selected candidate.</li>
<li><code>q</code> (<code>quit-window</code>): bury the current buffer.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb9c9c81" class="outline-4">
<h4 id="orgb9c9c81"><span class="section-number-4">1.2.5</span> Advanced features of ripgrep and counsel-rg</h4>
<div class="outline-text-4" id="text-1-2-5">
<p>
(source: <a href="https://oremacs.com/2018/03/05/grep-exclude/">https://oremacs.com/2018/03/05/grep-exclude/</a>)
</p>

<p>
The main two commands in ivy that I use for Git are:
</p>
<ul class="org-ul">
<li><code>counsel-git</code>: select a file tracked by Git</li>
<li><code>counsel-rg</code>: grep for a line in all files tracked by Git, using <code>ripgrep</code> as
the backend.</li>
</ul>

<p>
Among the available grep tools, <code>counsel-rg</code> is the fastest, especially when we
have to deal with Git repositories that more than 1GB in size. Moreover, adding
an <code>.ignore</code> file to the root of your project can really speed up your
searches. In my sample project, I went from 10k files to less than 500 files.
</p>

<p>
Example of <code>.ignore</code> files:
</p>
<pre class="example">
/TAGS
*.min.js*
/Build/Output/
/ThirdParty/
</pre>

<p>
As you can see, both file patterns and directories are supported. One other
nifty thing that I discovered only recently is that you can use <code>ripgrep</code> as the
backed for <code>counsel-git</code> in addition to <code>counsel-rg</code>. Which means the same
<code>.ignore</code> file is used for both commands. Here's the setting:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #C678DD;">setq</span> counsel-git-cmd <span style="color: #98C379;">"rg --files"</span>)
</pre>
</div>

<p>
And here's the setting for <code>counsel-rg</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #C678DD;">setq</span> counsel-rg-base-command
      <span style="color: #98C379;">"rg -i -M 120 --no-heading --line-number --color never %s ."</span>)
</pre>
</div>

<p>
The main difference in comparison to the default <code>counsel-rg-base-command</code> is
<code>-M 120</code> which means: truncate all lines that are longer than 120
characters. This is really helpful when Emacs is accepting input from <code>ripgrep</code>: a
megabyte long line of minified JS is not only useless since you can't see it
whole, but it will also likely hang Emacs for a while.
</p>
</div>
</div>

<div id="outline-container-org6c1f960" class="outline-4">
<h4 id="org6c1f960"><span class="section-number-4">1.2.6</span> Refactoring workflow via ivy-occur</h4>
<div class="outline-text-4" id="text-1-2-6">
<p>
The basic idea was that he wanted to change all occurrences of an identifier in
all files in a given directory. We do that by finding each occurrence with
<code>rgrep</code>, making the <code>rgrep</code> result buffer writable with <code>wgrep</code>, then using
<code>iedit</code> to change all occurrences at once.
</p>

<p>
The workflow is summarized as follows:
</p>
<ul class="org-ul">
<li>run <code>counsel-ag</code>  (or <code>counsel-rg</code>  etc.) and call <code>ivy-occur</code> (<code>C-c C-o</code>)</li>
<li>in the occur buffer, toggle <code>wgrep</code> by <code>C-x C-q</code> (<code>ivy-wgrep-change-to-wgrep-mode</code>)</li>
<li>use <code>iedit</code> (<code>C-;</code>) for example to change all occurences</li>
<li>exit <code>iedit</code> (<code>C-;</code>) and <code>wgrep</code> (<code>C-x s</code> or <code>C-c C-c</code>) (<code>wgrep-finish-edit</code>)</li>
<li>kill the occur buffer after confirmation</li>
</ul>

<p>
Sources:
</p>
<ul class="org-ul">
<li><a href="https://sam217pa.github.io/2016/09/11/nuclear-power-editing-via-ivy-and-ag/">https://sam217pa.github.io/2016/09/11/nuclear-power-editing-via-ivy-and-ag/</a></li>
<li><a href="https://oremacs.com/2015/01/27/my-refactoring-workflow/">https://oremacs.com/2015/01/27/my-refactoring-workflow/</a></li>
<li><a href="http://irreal.org/blog/?p=6008">http://irreal.org/blog/?p=6008</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org39b0079" class="outline-3">
<h3 id="org39b0079"><span class="section-number-3">1.3</span> Ivy for projectile</h3>
<div class="outline-text-3" id="text-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5C6370;">;; </span><span style="color: #5C6370;">---------------------------------------------</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">/counsel-projectile/: Ivy for projectile</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">---------------------------------------------</span>
(counsel-projectile-mode)
</pre>
</div>

<p>
One may go to <code>~/.emacs.d/init/readme/</code> to see more the complete manual (the
README.md from the author's github project)
</p>

<p>
The most frequent used operations:
</p>
<ul class="org-ul">
<li><code>C-c p p</code>: switch project</li>
<li><code>C-c p f</code>: jump to a project file</li>
<li><code>C-c p d</code>: jump to a project directory</li>
<li><code>C-c p b</code>: jump to a project buffer</li>
<li><code>C-c p s g</code>: search project with grep</li>
<li><code>C-c p s s</code>: serach project with ag</li>

<li><code>C-c p SPC</code>: jump to a project buffer, file, or switch project</li>
<li><code>C-c p s r</code>: search project with rg</li>
<li><code>C-c p O</code>:   Org-capture into project</li>
</ul>
</div>
</div>

<div id="outline-container-org2e5f898" class="outline-3">
<h3 id="org2e5f898"><span class="section-number-3">1.4</span> Ivy for GNU global tags</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Enable <code>gtags</code> for the given major modes:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5C6370;">;; </span><span style="color: #5C6370;">---------------------------------------------</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">/counsel-gtags/: Ivy for gtags (GNU global)</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">---------------------------------------------</span>
(add-hook 'c-mode-hook 'counsel-gtags-mode)
(add-hook 'c++-mode-hook 'counsel-gtags-mode)
(add-hook 'python-mode-hook 'counsel-gtags-mode)
</pre>
</div>

<p>
Keybindings:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #C678DD;">with-eval-after-load</span> 'counsel-gtags
  <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">basic jumps</span>
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"M-."</span>) 'counsel-gtags-dwim)
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"M-,"</span>) 'counsel-gtags-go-backward)
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"M-t"</span>) 'counsel-gtags-find-definition)
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"M-r"</span>) 'counsel-gtags-find-reference)
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"M-s"</span>) 'counsel-gtags-find-symbol)
  <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">create/update tags</span>
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"C-c g c"</span>) 'counsel-gtags-create-tags)
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"C-c g u"</span>) 'counsel-gtags-update-tags)
  <span style="color: #5C6370;">;; </span><span style="color: #5C6370;">jump over stacks/history</span>
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"C-c g ["</span>) 'counsel-gtags-go-backward)
  (define-key counsel-gtags-mode-map (kbd <span style="color: #98C379;">"C-c g ]"</span>) 'counsel-gtags-go-forward))
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-orge609588" class="outline-2">
<h2 id="orge609588"><span class="section-number-2">2</span> Hydra - make Emacs bindings that stick around</h2>
<div class="outline-text-2" id="text-2">
<p>
This is a package for GNU Emacs that can be used to tie related commands into a
family of short bindings with a common prefix - a Hydra.
</p>
</div>

<div id="outline-container-orge7557ba" class="outline-3">
<h3 id="orge7557ba"><span class="section-number-3">2.1</span> Supports for Counsel</h3>
<div class="outline-text-3" id="text-2-1">
<p>
It requires the package <code>ivy-hydra</code>, which defines the <code>hydra</code> rules for
<code>counsel</code>.
</p>

<p>
A summary of <code>hydra</code> commands available for <code>counsel</code>:
</p>
<ul class="org-ul">
<li>use <code>C-o</code> (<code>hydra-ivy/body</code>) to invokes the hydra menu with short key
bindings.</li>
<li>when Hydra is active, minibuffer editing is disabled and menus display short
aliases:</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Short</th>
<th scope="col" class="org-left">Normal</th>
<th scope="col" class="org-left">Command name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>o</code></td>
<td class="org-left"><code>C-g</code></td>
<td class="org-left"><code>keyboard-escape-quit</code></td>
</tr>

<tr>
<td class="org-left"><code>j</code></td>
<td class="org-left"><code>C-n</code></td>
<td class="org-left"><code>ivy-next-line</code></td>
</tr>

<tr>
<td class="org-left"><code>k</code></td>
<td class="org-left"><code>C-p</code></td>
<td class="org-left"><code>ivy-previous-line</code></td>
</tr>

<tr>
<td class="org-left"><code>h</code></td>
<td class="org-left"><code>M-&lt;</code></td>
<td class="org-left"><code>ivy-beginning-of-buffer</code></td>
</tr>

<tr>
<td class="org-left"><code>l</code></td>
<td class="org-left"><code>M-&gt;</code></td>
<td class="org-left"><code>ivy-end-of-buffer</code></td>
</tr>

<tr>
<td class="org-left"><code>d</code></td>
<td class="org-left"><code>C-m</code></td>
<td class="org-left"><code>ivy-done</code></td>
</tr>

<tr>
<td class="org-left"><code>f</code></td>
<td class="org-left"><code>C-j</code></td>
<td class="org-left"><code>ivy-alt-done</code></td>
</tr>

<tr>
<td class="org-left"><code>g</code></td>
<td class="org-left"><code>C-M-m</code></td>
<td class="org-left"><code>ivy-call</code></td>
</tr>

<tr>
<td class="org-left"><code>u</code></td>
<td class="org-left"><code>C-c C-o</code></td>
<td class="org-left"><code>ivy-occur</code></td>
</tr>
</tbody>
</table>

<p>
Hydra menu offers more additional bindings:
</p>
<ul class="org-ul">
<li><code>c</code> (<code>ivy-toggle-calling</code>)
Toggle calling the action after each candidate change. It modifies j to jg, k to kg etc.</li>
<li><code>m</code> (<code>ivy-rotate-preferred-builders</code>)
Rotate the current regexp matcher.</li>
<li><code>&gt;</code> (<code>ivy-minibuffer-grow</code>)
Increase ivy-height for the current minibuffer.</li>
<li><code>&lt;</code> (<code>ivy-minibuffer-shrink</code>)
Decrease ivy-height for the current minibuffer.</li>
<li><code>w</code> (<code>ivy-prev-action</code>)
Select the previous action.</li>
<li><code>s</code> (<code>ivy-next-action</code>)
Select the next action.</li>
<li><code>a</code> (<code>ivy-read-action</code>)
Use a menu to select an action.</li>
<li><code>C</code> (<code>ivy-toggle-case-fold</code>)
Toggle case folding (match both upper and lower case characters for lower case input).</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgaba00cf" class="outline-2">
<h2 id="orgaba00cf"><span class="section-number-2">3</span> Avy - jump to things in Emacs tree-style</h2>
<div class="outline-text-2" id="text-3">
<p>
Avy is a GNU Emacs package for jumping to visible text using a char-based
decision tree.
</p>
</div>
</div>


<div id="outline-container-org9cd96e8" class="outline-2">
<h2 id="org9cd96e8"><span class="section-number-2">4</span> END</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #C678DD;">provide</span> '<span style="color: #56B6C2;">init-ivy</span>)
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">================================================</span>
<span style="color: #5C6370;">;; </span><span style="color: #5C6370;">init-ivy.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 01 May 2018</p>
<p class="author">Author: Zuogong Yue</p>
<p class="date">Created: 2018-05-02 Wed 18:46</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>