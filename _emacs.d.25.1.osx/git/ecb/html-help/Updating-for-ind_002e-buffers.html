<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>ECB - the Emacs Code Browser: Updating for ind. buffers</title>

<meta name="description" content="ECB - the Emacs Code Browser: Updating for ind. buffers">
<meta name="keywords" content="ECB - the Emacs Code Browser: Updating for ind. buffers">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="ecb.html#Top" rel="start" title="Top">
<link href="Command-Index.html#Command-Index" rel="index" title="Command Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-Methods-window.html#The-Methods-window" rel="up" title="The Methods window">
<link href="Jumping-to-external-tags.html#Jumping-to-external-tags" rel="next" title="Jumping to external tags">
<link href="Updating-Methods_002dwindow.html#Updating-Methods_002dwindow" rel="prev" title="Updating Methods-window">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Updating-for-ind_002e-buffers"></a>
<div class="header">
<p>
Next: <a href="Jumping-to-external-tags.html#Jumping-to-external-tags" accesskey="n" rel="next">Jumping to external tags</a>, Previous: <a href="Updating-Methods_002dwindow.html#Updating-Methods_002dwindow" accesskey="p" rel="prev">Updating Methods-window</a>, Up: <a href="The-Methods-window.html#The-Methods-window" accesskey="u" rel="up">The Methods window</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html#Command-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Updating-Methods-for-indirect-buffers"></a>
<h4 class="subsection">6.6.5 Updating Methods for indirect buffers</h4>

<p>ECB works out of the box with indirect buffers, especially with indirect
buffer clones created with the command <code>clone-indirect-buffer</code> (only
available with GNU Emacs &gt;= 21). They will be handled as all other buffers and
you can work with them with no difference to &ldquo;normal&rdquo; buffers. With one
exception:
</p>
<p><strong>Please note</strong>: Cause of a bug in Emacs 22 (and maybe also in Emacs 23)
the propagation of parsing informations from one buffer to all others which are
in an indirect-buffer relation to the same base-buffer does currently not
work.
</p>
<p>What does this mean: If you modify a buffer then Emacs propagates this change
to all buffers with the same base-buffer. ECB/semantic recognize this change
and do all necessary to automatically reparse the changed buffer (at least if
you have customized semantic/ECB to do this). So far so good, but: If you
switch to another buffer with the same base-buffer then you will notice that
the methods-window of ECB still displays the contents before the change, ie.
the need for a reparse has not been propagated to these other buffers. This is
a bug in Emacs.
</p>
<p>What can you do: As long as this bug is not fixed there is no chance that all
other affected &ldquo;indirect-related&rdquo; buffers will be reparsed automatically
after modifying one of them. So you have to do this reparse &ldquo;by hand&rdquo; after
switching to such an indirect-related buffer, but this is very simple: Just
call the command <code>ecb-rebuild-methods-buffer</code> with prefix arg or hit
<tt class="key">C-u C-c . r</tt> (key this command is bound to).
</p>
<p>Lets make an example:
</p>
<ol>
<li> 
Suppose we have a sourcefile test.java loaded as a buffer into Emacs and
suppose further we have created two indirect-buffer clones test-clone1.java and
test-clone2.java - all of these buffers point to the same file: test.java.

</li><li> 
Now lets be the buffer test-clone1.java the current buffer and let us modify
it (e.g. adding a new method). If you have enabled the idle-reparse mechanism
of semantic (see <a href="Setting-up-CEDET_002fsemantic.html#Setting-up-CEDET_002fsemantic">Setting up CEDET/semantic</a>) then this buffer will be
reparsed automatically and ECBs methods-window will be updated in turn too.

</li><li> 
So far so good. But if you now switch to one of the two other buffers, lets
say to test.java, then you will notice that the change done in
test-clone1.java is also visible in the buffer test.java but the
ECB-methods-window for test.java will display the contents before the change.
This is cause of the Emacs-bug described above.

</li><li> 
To update the methods-window for test.java to the new contents you have to call
<code>ecb-rebuild-methods-buffer</code> with prefix argument (ie. clear-cache is
true) or hitting <tt class="key">C-u C-c . r</tt>. Note: Calling this command without prefix
argument is not enough!

</li></ol>

<hr>
<div class="header">
<p>
Next: <a href="Jumping-to-external-tags.html#Jumping-to-external-tags" accesskey="n" rel="next">Jumping to external tags</a>, Previous: <a href="Updating-Methods_002dwindow.html#Updating-Methods_002dwindow" accesskey="p" rel="prev">Updating Methods-window</a>, Up: <a href="The-Methods-window.html#The-Methods-window" accesskey="u" rel="up">The Methods window</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html#Command-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
