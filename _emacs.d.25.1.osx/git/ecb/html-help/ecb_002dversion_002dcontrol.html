<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>ECB - the Emacs Code Browser: ecb-version-control</title>

<meta name="description" content="ECB - the Emacs Code Browser: ecb-version-control">
<meta name="keywords" content="ECB - the Emacs Code Browser: ecb-version-control">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="ecb.html#Top" rel="start" title="Top">
<link href="Command-Index.html#Command-Index" rel="index" title="Command Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Customizable-options.html#Customizable-options" rel="up" title="Customizable options">
<link href="Submitting-problem-report.html#Submitting-problem-report" rel="next" title="Submitting problem report">
<link href="ecb_002dmode_002dline.html#ecb_002dmode_002dline" rel="prev" title="ecb-mode-line">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="ecb_002dversion_002dcontrol"></a>
<div class="header">
<p>
Previous: <a href="ecb_002dmode_002dline.html#ecb_002dmode_002dline" accesskey="p" rel="prev">ecb-mode-line</a>, Up: <a href="Customizable-options.html#Customizable-options" accesskey="u" rel="up">Customizable options</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html#Command-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Group-ecb_002dversion_002dcontrol"></a>
<h4 class="subsection">7.3.20 Group ecb-version-control</h4>

<p>This group contains settings for the version-control-support of ECB:
</p>
<dl>
<dt><a name="index-vc_002ddirectory_002dexclude_002dregexps"></a>User Option: <strong>vc-directory-exclude-regexps</strong></dt>
<dd><p>Which directories should be excluded from VC-state-check. If a
directory matches any of the regexps of this option the VC-state of
its sources will not be checked - This option takes only effect if
<code>ecb-vc-enable-support</code> is not nil.
</p></dd></dl>


<dl>
<dt><a name="index-vc_002denable_002dsupport"></a>User Option: <strong>vc-enable-support</strong></dt>
<dd><p>Enable support for version-control (VC) systems. If on then in the
directories-buffer (if the value of the option
<code>ecb-show-sources-in-directories-buffer</code> is on for current
layout), the sources-buffer and the history-buffer all file-items are
displayed with an appropriate icon in front of the item-name to
indicate the VC-state of this item. If off then no
version-control-state checking is done.
</p>
<p>Because this check can be take some time if files are managed by a not
local Version-control-server ECB performs this check stealthy (see
<code>ecb-stealthy-tasks-delay</code>) so normally there should no
performance-decrease or additional waiting-time for the user. But to
get sure this option offers three choices: <code>t</code>,
<code>unless-remote</code> and <code>nil</code>. See the option
<code>ecb-prescan-directories-for-emptyness</code> for an explanation for
these three choices.
</p>
<p>The option <code>ecb-vc-directory-exclude-regexps</code> offers are more
fine granularity to exclude the sources of certain directories from
the VC-state-check.
</p>
<p>See <code>ecb-vc-supported-backends</code> and <code>ecb-vc-state-mapping</code>
how to customize the VC-support itself.
</p></dd></dl>

<dl>
<dt><a name="index-vc_002dstate_002dmapping"></a>User Option: <strong>vc-state-mapping</strong></dt>
<dd><p>Mapping between VC-states from the backends and ECB-known VC-states.
ECB understands the following state-values:
</p>
<dl compact="compact">
<dt><code>up-to-date</code></dt>
<dd><p>The working file is unmodified with respect to the latest version on
the current branch, and not locked.
</p>
</dd>
<dt><code>edited</code></dt>
<dd><p>The working file has been edited by the user. If locking is used for
the file, this state means that the current version is locked by the
calling user.
</p>
</dd>
<dt><code>needs-patch</code></dt>
<dd><p>The file has not been edited by the user, but there is a more recent
version on the current branch stored in the master file.
</p>
</dd>
<dt><code>needs-merge</code></dt>
<dd><p>The file has been edited by the user, and there is also a more recent
version on the current branch stored in the master file. This state
can only occur if locking is not used for the file.
</p>
</dd>
<dt><code>added</code></dt>
<dd><p>The working file has already been added/registered to the VC-system
but not yet commited.
</p>
</dd>
<dt><code>unlocked-changes</code></dt>
<dd><p>The current version of the working file is not locked, but the working
file has been changed with respect to that version. This state can
only occur for files with locking; it represents an erroneous
condition that should be resolved by the user.
</p>
</dd>
<dt><code>ignored</code></dt>
<dd><p>The version-control-system ignores this file (e.g. because included in
a .cvsignore-file in case of CVS).
</p>
</dd>
<dt><code>unknown</code></dt>
<dd><p>The state of the file can not be retrieved; probably the file is not
under a version-control-system.
</p>
</dd>
</dl>

<p>All state-values a check-vc-state-function of
<code>ecb-vc-supported-backends</code> can return must have a mapping to one
of the ECB-state-values listed above. If for a certain
backend-VC-state no mapping can be found then per default &rsquo;edited is
assumed!
</p>
<p>The default value of this option maps already the possible returned
state-values of <code>vc-state</code> and <code>vc-recompute-state</code> (both
GNU Emacs) and <code>vc-cvs-status</code> (Xemacs) to the
ECB-VC-state-values.
</p></dd></dl>

<dl>
<dt><a name="index-vc_002dsupported_002dbackends"></a>User Option: <strong>vc-supported-backends</strong></dt>
<dd><p>Define how to to identify the VC-backend and how to check the state.
The value of this option is a list containing cons-cells where the car is a
function which is called to identify the VC-backend for a DIRECTORY and the
cdr is a function which is called to check the VC-state of the FILEs contained
in DIRECTORY.
</p>
<p>Identify-backend-function: It gets a full directory-name as argument - always
without ending slash (rsp. backslash for native Windows-XEmacs) - and has to
return a unique symbol for the VC-backend which manages that directory (e.g.
&rsquo;CVS for the CVS-system or &rsquo;RCS for the RCS-system) or nil if the file is not
managed by a version-control-system.
</p>
<p>Check-vc-state-function: It gets a full filename (ie. incl. the complete
directory-part) and has to return a symbol which indicates the VC-state of
that file. The possible returned values of such a check-vc-state-function have
to be mapped with <code>ecb-vc-state-mapping</code> to the allowed ECB-VC-state values.
</p>
<p>ECB runs for a certain DIRECTORY all identify-backend-functions in that order
they are listed in this option. For the first which returns a value unequal
nil the associated check-state-function is used to retrieve the VC-state of
all sourcefiles in that DIRECTORY.
</p>
<p>There is no need for the identify-backend-function or the
check-vc-state-function to cache any state because ECB automatically caches
internally all necessary informations for directories and files for best
possible performance.
</p>
<p>To prepend ECB from checking the VC-state for any file set
<code>ecb-vc-enable-support</code> to nil.
</p>
<p>Default value: Support for CVS, RCS, SCCS, Subversion, Git, Bazaar, Monotone
and Mercurial. To identify the VC-backend the functions
<code>ecb-vc-dir-managed-by-CVS</code>, <code>ecb-vc-dir-managed-by-RCS</code> rsp.
<code>ecb-vc-dir-managed-by-SCCS</code> rsp. <code>ecb-vc-dir-managed-by-SVN</code> rsp.
<code>ecb-vc--dir-managed-by-GIT</code> rsp. <code>ecb-vc-dir-managed-by-BZR</code> rsp.
<code>ecb-vc-dir-managed-by-MTN</code> rsp. <code>ecb-vc-dir-managed-by-HG</code>are used.
</p>
<p>For all eight backends the function <code>ecb-vc-state</code> of the
VC-package is used by default (which uses a heuristic and
therefore faster but less accurate approach), but there is also
<code>ecb-vc-recompute-state</code> available which is an alias for
<code>vc-recompute-state</code> (which returns accurate state-values by calling the
backend which can be slow especialy for remote root-repositories!)
</p>
<p>Example: If <code>ecb-vc-recompute-state</code> (to get real state-values not
only heuristic ones) should be used to check the state for CVS-managed files
and <code>ecb-vc-state</code> for all other backends then an element
(ecb-vc-dir-managed-by-CVS . ecb-vc-recompute-state) should be added at the
beginning of this option.
</p></dd></dl>



<hr>
<div class="header">
<p>
Previous: <a href="ecb_002dmode_002dline.html#ecb_002dmode_002dline" accesskey="p" rel="prev">ecb-mode-line</a>, Up: <a href="Customizable-options.html#Customizable-options" accesskey="u" rel="up">Customizable options</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html#Command-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
