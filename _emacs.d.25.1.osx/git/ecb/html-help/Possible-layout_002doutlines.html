<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>ECB - the Emacs Code Browser: Possible layout-outlines</title>

<meta name="description" content="ECB - the Emacs Code Browser: Possible layout-outlines">
<meta name="keywords" content="ECB - the Emacs Code Browser: Possible layout-outlines">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="ecb.html#Top" rel="start" title="Top">
<link href="Command-Index.html#Command-Index" rel="index" title="Command Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="The-layout_002dengine.html#The-layout_002dengine" rel="up" title="The layout-engine">
<link href="The-layout_002dengine-API.html#The-layout_002dengine-API" rel="next" title="The layout-engine API">
<link href="Programming-special-windows.html#Programming-special-windows" rel="prev" title="Programming special windows">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Possible-layout_002doutlines"></a>
<div class="header">
<p>
Next: <a href="The-layout_002dengine-API.html#The-layout_002dengine-API" accesskey="n" rel="next">The layout-engine API</a>, Previous: <a href="Programming-special-windows.html#Programming-special-windows" accesskey="p" rel="prev">Programming special windows</a>, Up: <a href="The-layout_002dengine.html#The-layout_002dengine" accesskey="u" rel="up">The layout-engine</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html#Command-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="The-wide-range-of-possible-layout_002doutlines"></a>
<h4 class="subsection">11.5.3 The wide range of possible layout-outlines</h4>

<p>In the two previous sections <a href="Programming-a-new-layout.html#Programming-a-new-layout">Programming a new layout</a> and
<a href="Programming-special-windows.html#Programming-special-windows">Programming special windows</a> we have explained in detail how to
program new layouts and how to program new special windows/buffers and
adding them to a new layout.
</p>
<p>The intention of this section is to be a summary what are the real
restrictions for a new layout-outline programmed with
<code>ecb-layout-define</code>. This is necessary because until now we just
programmed &ldquo;obvious&rdquo; layouts, means layout which are in principle
very similar to the standard ones which means one big edit-window and
some special windows &ldquo;around&rdquo; this edit-window. This section will
show you that a layout can have also very different outlines.
</p>
<p>OK, here are the real restrictions and conditions for a layout
programmed with <code>ecb-layout-define</code>:
</p><ol>
<li> It must have exactly one edit-window regardless of its size. The user
of this layout can later split this edit-window in as many
edit-windows as he like.

</li><li> All other windows created within the <var>CREATE-CODE</var> body of
<code>ecb-layout-define</code> (see <a href="Programming-a-new-layout.html#Programming-a-new-layout">Programming a new layout</a>) must be
dedicated to their buffers.

</li><li> All the dedicated windows must (exclusive!) either reside on the left,
right, top or left-and-right side of the edit-window. This will be
defined with the <var>TYPE</var>-argument of <code>ecb-layout-define</code>
(see <a href="Programming-a-new-layout.html#Programming-a-new-layout">Programming a new layout</a>).
</li></ol>

<p>You see, there are only three restrictions/conditions. These and only
these must be fulfilled at layout-programming.
</p>
<p>Demonstrating what this really means and how flexible the
layout-engine of ECB really is, can be done best with some
&ldquo;pathological&rdquo; layout-outlines. All the following are correct
layouts (working code is added below each layout):
</p>
<p>The following is a top layout with three vertical layered special
windows.
</p>
<div class="example">
<pre class="example">------------------------------------------------------------------
|                                                                |
|                 Upper special window (a tree-buffer)           |
|                                                                |
|----------------------------------------------------------------|
|                                                                |
|                 Middle special window (no tree-buffer)         |
|                                                                |
|----------------------------------------------------------------|
|                                                                |
|                 Lower special window (a tree-buffer)           |
|                                                                |
|================================================================|
|                                                                |
|                         Edit-area                              |
|      (can be splitted by the user in several edit-windows)     |
------------------------------------------------------------------
|                                                                |
|                 Compilation-window (optional)                  |
|                                                                |
------------------------------------------------------------------
</pre></div>

<p>Here is the code for that top layout (all buffers are dummy-buffers):
</p>
<div class="lisp">
<pre class="lisp">
;; The &quot;window dedicator to buffer&quot; functions:

(defecb-window-dedicator-to-ecb-buffer ecb-set-usw-buffer
   upper-special-window-buffer-name t
  (switch-to-buffer (get-buffer-create &quot;Upper special window&quot;)))

(defecb-window-dedicator-to-ecb-buffer ecb-set-msw-buffer
   middle-special-window-buffer-name nil
  (switch-to-buffer (get-buffer-create &quot;Middle special window&quot;)))

(defecb-window-dedicator-to-ecb-buffer ecb-set-lsw-buffer
   lower-special-window-buffer-name t
  (switch-to-buffer (get-buffer-create &quot;Lower special window&quot;)))

;; The layout itself:

(ecb-layout-define &quot;example-layout3&quot; top
  nil

  ;; here we have an edit-window and above one top window which we can
  ;; now split in several other windows. Dependent on the value of
  ;; `ecb-compile-window-height' we have also a compile-window at the
  ;; bottom.

  (ecb-set-usw-buffer)
  (ecb-split-ver 0.33)
  (ecb-set-msw-buffer)
  (ecb-split-ver 0.5)
  (ecb-set-lsw-buffer)

  ;; select the edit-window.
  (select-window (next-window)))
</pre></div>


<p>The following is a left-right layout which has six special windows in
the left-&rdquo;column&rdquo; and one big special window in the
right-&rdquo;column&rdquo;. For left-right layouts the left-&rdquo;column&rdquo; and the
right-&rdquo;column&rdquo; have always the same width.
</p>
<div class="example">
<pre class="example">------------------------------------------------------------------
|             |       |                   |                      |
| Left1       | Left5 |                   |                      |
|             |       |                   |                      |
|-------------|       |                   |                      |
|      |      |       |                   |                      |
|      |      |       |                   |                      |
|      |      |       |                   |                      |
| Left2| Left3|-------|     Edit-area     |   Right1             |
|      |      |       | (can be splitted  |                      |
|      |      |       |  in several edit- |                      |
|      |      |       |      windows)     |                      |
|-------------|       |                   |                      |
|             |       |                   |                      |
| Left4       | Left6 |                   |                      |
|             |       |                   |                      |
------------------------------------------------------------------
|                                                                |
|                 Compilation-window (optional)                  |
|                                                                |
------------------------------------------------------------------
</pre></div>

<p>Here is the code for that left-right layout, again with dummy-buffers
(depending to your screen-resolution you will need a quite big value
for <code>ecb-windows-width</code>, e.g. 0.4):
</p>
<p>Here is one of the &ldquo;window dedicator for buffer&rdquo;-functions<a name="DOCF52" href="#FOOT52"><sup>52</sup></a>:
</p>
<div class="lisp">
<pre class="lisp">(defvar buffer-name-left1 &quot;left1&quot;)

;; Note that the third argument muts be not nil if the ecb-window should
;; display an ecb-buffer of type tree-buffer!
(defecb-window-dedicator-to-ecb-buffer ecb-set-left1-buffer buffer-name-left1 nil
  (switch-to-buffer (get-buffer-create &quot;Left1&quot;)))
</pre></div>

<p>Here is the layout-definition itself:
</p>
<div class="lisp">
<pre class="lisp">(ecb-layout-define &quot;example-layout2&quot; left-right
  nil

  ;; here we have an edit-window and left and right two windows each
  ;; with width `ecb-windows-width'. Dependent to the value of
  ;; `ecb-compile-window-height' we have also a compile-window at the
  ;; bottom.

  (ecb-set-left1-buffer)
  (ecb-split-hor 0.66 t)
  (ecb-split-ver 0.75)
  (ecb-set-left4-buffer)
  (select-window (previous-window (selected-window) 0))
  (ecb-split-ver 0.25 nil t)
  (ecb-set-left2-buffer)
  (ecb-split-hor 0.5)
  (ecb-set-left3-buffer)
  (select-window (next-window (next-window)))
  (ecb-set-left5-buffer)
  (ecb-split-ver 0.5)
  (ecb-set-left6-buffer)
  (select-window (next-window (next-window)))
  (ecb-set-right1-buffer))

  ;; select the edit-window
  (select-window (previous-window (selected-window) 0)))
</pre></div>

<p>Especially the last example should demonstrate that even very
complicated layouts are easy to program with <code>ecb-layout-define</code>.
If such layouts are senseful is another topic ;-)
</p>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h3><a name="FOOT52" href="#DOCF52">(52)</a></h3>
<p>The
&ldquo;window dedicators&rdquo; for all these ecb-windows/buffers are not explicitly
described - they look all like <code>ecb-set-left1-buffer</code> - of course with
different buffer-names!</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="The-layout_002dengine-API.html#The-layout_002dengine-API" accesskey="n" rel="next">The layout-engine API</a>, Previous: <a href="Programming-special-windows.html#Programming-special-windows" accesskey="p" rel="prev">Programming special windows</a>, Up: <a href="The-layout_002dengine.html#The-layout_002dengine" accesskey="u" rel="up">The layout-engine</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-Index.html#Command-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
